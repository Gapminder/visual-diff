<!doctype html>
<html>

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Vizabi Testing</title>
  <script src="https://d3js.org/d3.v4.js"></script>
  <link href="style.css" rel="stylesheet" type="text/css" >
  <link href="libs/vizabi.css" rel="stylesheet" type="text/css" >
  <link href="libs/bubblechart.css" rel="stylesheet" type="text/css">
  <link href="libs/linechart.css" rel="stylesheet" type="text/css">
  <script src="libs/vizabi.js"></script>
  <script src="libs/bubblechart.js"></script>
  <script src="libs/linechart.js"></script>
  <script src="libs/vizabi-ddfcsv-reader.js"></script>
  <script src="libs/vizabi-ws-reader.js"></script>
  <script src="libs/vizabi-ddfcsv-reader.js"></script>
</head>

<body>
  <p id="instructions">Y = develop, X = last-reviewed. If bubbles are on the diagonal y=x, that means no change. Shortcuts: [ and ]</p>
  
  <select id="concepts_selector" onchange="update_chart();">
    <option value="" selected="selected">--- pick an indicator to compare ---</option>
    <option value="aged_15_24_employment_rate_percent">aged_15_24_employment_rate_percent</option>
<option value="aged_15_24_unemployment_rate_percent">aged_15_24_unemployment_rate_percent</option>
<option value="aged_15_64_labour_force_participation_rate_percent">aged_15_64_labour_force_participation_rate_percent</option>
<option value="aged_15plus_employment_rate_percent">aged_15plus_employment_rate_percent</option>
<option value="aged_15plus_labour_force_participation_rate_percent">aged_15plus_labour_force_participation_rate_percent</option>
<option value="aged_15plus_unemployment_rate_percent">aged_15plus_unemployment_rate_percent</option>
<option value="aged_25_54_labour_force_participation_rate_percent">aged_25_54_labour_force_participation_rate_percent</option>
<option value="aged_25_54_unemployment_rate_percent">aged_25_54_unemployment_rate_percent</option>
<option value="aged_55_64_unemployment_rate_percent">aged_55_64_unemployment_rate_percent</option>
<option value="aged_65plus_labour_force_participation_rate_percent">aged_65plus_labour_force_participation_rate_percent</option>
<option value="aged_65plus_unemployment_rate_percent">aged_65plus_unemployment_rate_percent</option>
<option value="agricultural_land_percent_of_land_area">agricultural_land_percent_of_land_area</option>
<option value="agriculture_percent_of_gdp">agriculture_percent_of_gdp</option>
<option value="agriculture_workers_percent_of_employment">agriculture_workers_percent_of_employment</option>
<option value="aid_received_per_person_current_us">aid_received_per_person_current_us</option>
<option value="aid_received_percent_of_gni">aid_received_percent_of_gni</option>
<option value="aid_received_total_us_inflation_adjusted">aid_received_total_us_inflation_adjusted</option>
<option value="alternative_gdp_per_capita_ppp_wb">alternative_gdp_per_capita_ppp_wb</option>
<option value="breast_cancer_deaths_per_100000_women">breast_cancer_deaths_per_100000_women</option>
<option value="breast_cancer_new_cases_per_100000_women">breast_cancer_new_cases_per_100000_women</option>
<option value="breast_cancer_number_of_female_deaths">breast_cancer_number_of_female_deaths</option>
<option value="breast_cancer_number_of_new_female_cases">breast_cancer_number_of_new_female_cases</option>
<option value="burns_deaths_per_100000_people">burns_deaths_per_100000_people</option>
<option value="cervical_cancer_deaths_per_100000_women">cervical_cancer_deaths_per_100000_women</option>
<option value="cervical_cancer_new_cases_per_100000_women">cervical_cancer_new_cases_per_100000_women</option>
<option value="cervical_cancer_number_of_female_deaths">cervical_cancer_number_of_female_deaths</option>
<option value="cervical_cancer_number_of_new_female_cases">cervical_cancer_number_of_new_female_cases</option>
<option value="children_out_of_school_primary">children_out_of_school_primary</option>
<option value="children_out_of_school_primary_female">children_out_of_school_primary_female</option>
<option value="children_out_of_school_primary_male">children_out_of_school_primary_male</option>
<option value="co2_intensity_of_economic_output_kg_co2_per_2011_ppp_of_gdp">co2_intensity_of_economic_output_kg_co2_per_2011_ppp_of_gdp</option>
<option value="colonandrectum_cancer_deaths_per_100000_men">colonandrectum_cancer_deaths_per_100000_men</option>
<option value="colonandrectum_cancer_deaths_per_100000_women">colonandrectum_cancer_deaths_per_100000_women</option>
<option value="colonandrectum_cancer_new_cases_per_100000_men">colonandrectum_cancer_new_cases_per_100000_men</option>
<option value="colonandrectum_cancer_new_cases_per_100000_women">colonandrectum_cancer_new_cases_per_100000_women</option>
<option value="colonandrectum_cancer_number_of_female_deaths">colonandrectum_cancer_number_of_female_deaths</option>
<option value="colonandrectum_cancer_number_of_male_deaths">colonandrectum_cancer_number_of_male_deaths</option>
<option value="colonandrectum_cancer_number_of_new_female_cases">colonandrectum_cancer_number_of_new_female_cases</option>
<option value="colonandrectum_cancer_number_of_new_male_cases">colonandrectum_cancer_number_of_new_male_cases</option>
<option value="debt_servicing_costs_percent_of_exports_and_net_income_from_abroad">debt_servicing_costs_percent_of_exports_and_net_income_from_abroad</option>
<option value="debt_to_foreigners_by_public_and_private_percent_of_gni">debt_to_foreigners_by_public_and_private_percent_of_gni</option>
<option value="expenditure_per_student_primary_percent_of_gdp_per_person">expenditure_per_student_primary_percent_of_gdp_per_person</option>
<option value="expenditure_per_student_secondary_percent_of_gdp_per_person">expenditure_per_student_secondary_percent_of_gdp_per_person</option>
<option value="expenditure_per_student_tertiary_percent_of_gdp_per_person">expenditure_per_student_tertiary_percent_of_gdp_per_person</option>
<option value="exports_percent_of_gdp">exports_percent_of_gdp</option>
<option value="exports_unit_value_index_2000100">exports_unit_value_index_2000100</option>
<option value="external_debt_total_us_not_inflation_adjusted">external_debt_total_us_not_inflation_adjusted</option>
<option value="falls_deaths_per_100000_people">falls_deaths_per_100000_people</option>
<option value="family_workers_percent_of_employment">family_workers_percent_of_employment</option>
<option value="female_agriculture_workers_percent_of_female_employment">female_agriculture_workers_percent_of_female_employment</option>
<option value="female_family_workers_percent_of_female_employment">female_family_workers_percent_of_female_employment</option>
<option value="female_industry_workers_percent_of_female_employment">female_industry_workers_percent_of_female_employment</option>
<option value="female_long_term_unemployment_rate_percent">female_long_term_unemployment_rate_percent</option>
<option value="female_salaried_workers_percent_of_non_agricultural_female_employment">female_salaried_workers_percent_of_non_agricultural_female_employment</option>
<option value="female_self_employed_percent_of_female_employment">female_self_employed_percent_of_female_employment</option>
<option value="female_service_workers_percent_of_female_employment">female_service_workers_percent_of_female_employment</option>
<option value="females_aged_15_24_employment_rate_percent">females_aged_15_24_employment_rate_percent</option>
<option value="females_aged_15_24_unemployment_rate_percent">females_aged_15_24_unemployment_rate_percent</option>
<option value="females_aged_15_64_labour_force_participation_rate_percent">females_aged_15_64_labour_force_participation_rate_percent</option>
<option value="females_aged_15plus_employment_rate_percent">females_aged_15plus_employment_rate_percent</option>
<option value="females_aged_15plus_labour_force_participation_rate_percent">females_aged_15plus_labour_force_participation_rate_percent</option>
<option value="females_aged_15plus_unemployment_rate_percent">females_aged_15plus_unemployment_rate_percent</option>
<option value="females_aged_25_54_labour_force_participation_rate_percent">females_aged_25_54_labour_force_participation_rate_percent</option>
<option value="females_aged_25_54_unemployment_rate_percent">females_aged_25_54_unemployment_rate_percent</option>
<option value="females_aged_55_64_unemployment_rate_percent">females_aged_55_64_unemployment_rate_percent</option>
<option value="females_aged_65plus_labour_force_participation_rate_percent">females_aged_65plus_labour_force_participation_rate_percent</option>
<option value="females_aged_65plus_unemployment_rate_percent">females_aged_65plus_unemployment_rate_percent</option>
<option value="foreign_direct_investment_net_inflows_percent_of_gdp">foreign_direct_investment_net_inflows_percent_of_gdp</option>
<option value="foreign_direct_investment_net_outflows_percent_of_gdp">foreign_direct_investment_net_outflows_percent_of_gdp</option>
<option value="forest_area_sq_km">forest_area_sq_km</option>
<option value="forest_coverage_percent">forest_coverage_percent</option>
<option value="gdppercapita_growth_percent_per_year">gdppercapita_growth_percent_per_year</option>
<option value="gdppercapita_us_inflation_adjusted">gdppercapita_us_inflation_adjusted</option>
<option value="gdpperemployee_us_inflation_adjusted">gdpperemployee_us_inflation_adjusted</option>
<option value="gnipercapita_atlasmethod_current_us">gnipercapita_atlasmethod_current_us</option>
<option value="gnipercapita_constant_2010_us">gnipercapita_constant_2010_us</option>
<option value="gnipercapita_ppp_current_international">gnipercapita_ppp_current_international</option>
<option value="high_technology_exports_percent_of_manufactured_exports">high_technology_exports_percent_of_manufactured_exports</option>
<option value="hiv_deaths_in_children_1_59_months_total_deaths">hiv_deaths_in_children_1_59_months_total_deaths</option>
<option value="imports_percent_of_gdp">imports_percent_of_gdp</option>
<option value="imports_unit_value_index_2000100">imports_unit_value_index_2000100</option>
<option value="industry_percent_of_gdp">industry_percent_of_gdp</option>
<option value="industry_workers_percent_of_employment">industry_workers_percent_of_employment</option>
<option value="inflation_annual_percent">inflation_annual_percent</option>
<option value="injury_deaths_in_children_1_59_months_total_deaths">injury_deaths_in_children_1_59_months_total_deaths</option>
<option value="investments_percent_of_gdp">investments_percent_of_gdp</option>
<option value="liver_cancer_deaths_per_100000_men">liver_cancer_deaths_per_100000_men</option>
<option value="liver_cancer_deaths_per_100000_women">liver_cancer_deaths_per_100000_women</option>
<option value="liver_cancer_new_cases_per_100000_men">liver_cancer_new_cases_per_100000_men</option>
<option value="liver_cancer_new_cases_per_100000_women">liver_cancer_new_cases_per_100000_women</option>
<option value="liver_cancer_number_of_female_deaths">liver_cancer_number_of_female_deaths</option>
<option value="liver_cancer_number_of_male_deaths">liver_cancer_number_of_male_deaths</option>
<option value="liver_cancer_number_of_new_female_cases">liver_cancer_number_of_new_female_cases</option>
<option value="liver_cancer_number_of_new_male_cases">liver_cancer_number_of_new_male_cases</option>
<option value="long_term_unemployment_rate_percent">long_term_unemployment_rate_percent</option>
<option value="lung_cancer_deaths_per_100000_men">lung_cancer_deaths_per_100000_men</option>
<option value="lung_cancer_deaths_per_100000_women">lung_cancer_deaths_per_100000_women</option>
<option value="lung_cancer_new_cases_per_100000_men">lung_cancer_new_cases_per_100000_men</option>
<option value="lung_cancer_new_cases_per_100000_women">lung_cancer_new_cases_per_100000_women</option>
<option value="lung_cancer_number_of_female_deaths">lung_cancer_number_of_female_deaths</option>
<option value="lung_cancer_number_of_male_deaths">lung_cancer_number_of_male_deaths</option>
<option value="lung_cancer_number_of_new_female_cases">lung_cancer_number_of_new_female_cases</option>
<option value="lung_cancer_number_of_new_male_cases">lung_cancer_number_of_new_male_cases</option>

<option value="malaria_deaths_in_children_1_59_months_total_deaths">malaria_deaths_in_children_1_59_months_total_deaths</option>
<option value="male_family_workers_percent_of_male_employment">male_family_workers_percent_of_male_employment</option>
<option value="male_long_term_unemployment_rate_percent">male_long_term_unemployment_rate_percent</option>
<option value="male_salaried_workers_percent_of_non_agricultural_male_employment">male_salaried_workers_percent_of_non_agricultural_male_employment</option>
<option value="males_aged_15_24_unemployment_rate_percent">males_aged_15_24_unemployment_rate_percent</option>
<option value="males_aged_15plus_unemployment_rate_percent">males_aged_15plus_unemployment_rate_percent</option>
<option value="males_aged_25_54_unemployment_rate_percent">males_aged_25_54_unemployment_rate_percent</option>
<option value="males_aged_55_64_unemployment_rate_percent">males_aged_55_64_unemployment_rate_percent</option>
<option value="males_aged_65plus_unemployment_rate_percent">males_aged_65plus_unemployment_rate_percent</option>
<option value="market_value_of_listed_companies_percent_of_gdp">market_value_of_listed_companies_percent_of_gdp</option>
<option value="measles_deaths_in_children_1_59_months_total_deaths">measles_deaths_in_children_1_59_months_total_deaths</option>
<option value="medical_doctors_per_1000_people">medical_doctors_per_1000_people</option>
<option value="meningitis_deaths_in_children_1_59_months_total_deaths">meningitis_deaths_in_children_1_59_months_total_deaths</option>
<option value="merchandise_trade_percent_of_gdp">merchandise_trade_percent_of_gdp</option>
<option value="military_expenditure_percent_of_gdp">military_expenditure_percent_of_gdp</option>
<option value="motorcycle_deaths_per_100000_people">motorcycle_deaths_per_100000_people</option>
<option value="murder_per_100000_people">murder_per_100000_people</option>
<option value="murder_total_deaths">murder_total_deaths</option>
<option value="murdered_15_29_per_100000_people">murdered_15_29_per_100000_people</option>
<option value="murdered_30_44_per_100000_people">murdered_30_44_per_100000_people</option>
<option value="murdered_45_59_per_100000_people">murdered_45_59_per_100000_people</option>
<option value="murdered_60plus_per_100000_people">murdered_60plus_per_100000_people</option>
<option value="murdered_children_0_14_per_100000_people">murdered_children_0_14_per_100000_people</option>
<option value="murdered_men_per_100000_people">murdered_men_per_100000_people</option>
<option value="murdered_women_per_100000_people">murdered_women_per_100000_people</option>
<option value="ncd_deaths_in_children_1_59_months_total_deaths">ncd_deaths_in_children_1_59_months_total_deaths</option>
<option value="planted_forest_area_ha">planted_forest_area_ha</option>
<option value="poisonings_deaths_per_100000_people">poisonings_deaths_per_100000_people</option>
<option value="population_in_urban_agglomerations_m_1_million_percent_of_total">population_in_urban_agglomerations_m_1_million_percent_of_total</option>
<option value="poverty_percent_people_below_320_a_day">poverty_percent_people_below_320_a_day</option>
<option value="poverty_percent_people_below_550_a_day">poverty_percent_people_below_550_a_day</option>
<option value="primary_forest_area_ha">primary_forest_area_ha</option>
<option value="prostate_cancer_deaths_per_100000_men">prostate_cancer_deaths_per_100000_men</option>
<option value="prostate_cancer_number_of_male_deaths">prostate_cancer_number_of_male_deaths</option>
<option value="rural_poverty_percent_rural_people_below_national_rural">rural_poverty_percent_rural_people_below_national_rural</option>
<option value="salaried_workers_percent_of_non_agricultural_employment">salaried_workers_percent_of_non_agricultural_employment</option>
<option value="service_workers_percent_of_employment">service_workers_percent_of_employment</option>
<option value="services_percent_of_gdp">services_percent_of_gdp</option>
<option value="stomach_cancer_deaths_per_100000_men">stomach_cancer_deaths_per_100000_men</option>
<option value="stomach_cancer_deaths_per_100000_women">stomach_cancer_deaths_per_100000_women</option>
<option value="suicide_age_0_14_per_100000_people">suicide_age_0_14_per_100000_people</option>
<option value="suicide_age_15_29_per_100000_people">suicide_age_15_29_per_100000_people</option>
<option value="suicide_age_30_44_per_100000_people">suicide_age_30_44_per_100000_people</option>
<option value="suicide_age_45_59_per_100000_people">suicide_age_45_59_per_100000_people</option>
<option value="suicide_age_60plus_per_100000_people">suicide_age_60plus_per_100000_people</option>
<option value="suicide_men_per_100000_people">suicide_men_per_100000_people</option>
<option value="suicide_per_100000_people">suicide_per_100000_people</option>
<option value="suicide_total_deaths">suicide_total_deaths</option>
<option value="suicide_women_per_100000_people">suicide_women_per_100000_people</option>
<option value="total_gdp_us_inflation_adjusted">total_gdp_us_inflation_adjusted</option>
<option value="total_gni_ppp_current_international">total_gni_ppp_current_international</option>
<option value="trade_balance_percent_of_gdp">trade_balance_percent_of_gdp</option>
<option value="trade_balance_us_not_inflation_adjusted">trade_balance_us_not_inflation_adjusted</option>
<option value="traffic_deaths_men_per_100000_people">traffic_deaths_men_per_100000_people</option>
<option value="traffic_deaths_per_100000_people">traffic_deaths_per_100000_people</option>
<option value="traffic_deaths_women_per_100000_people">traffic_deaths_women_per_100000_people</option>
<option value="traffic_mortality_15_29_per_100000_people">traffic_mortality_15_29_per_100000_people</option>
<option value="traffic_mortality_30_44_per_100000_people">traffic_mortality_30_44_per_100000_people</option>
<option value="traffic_mortality_45_59_per_100000_people">traffic_mortality_45_59_per_100000_people</option>
<option value="traffic_mortality_60plus_per_100000_people">traffic_mortality_60plus_per_100000_people</option>
<option value="traffic_mortality_children_0_14_per_100000_people">traffic_mortality_children_0_14_per_100000_people</option>
<option value="traffic_total_deaths">traffic_total_deaths</option>
<option value="urban_population">urban_population</option>
<option value="urban_population_growth_annual_percent">urban_population_growth_annual_percent</option>
<option value="urban_population_percent_of_total">urban_population_percent_of_total</option>
<option value="urban_poverty_percent_urban_people_below_national_urban">urban_poverty_percent_urban_people_below_national_urban</option>
<option value="working_hours_per_week">working_hours_per_week</option>

    
  </select>
  <button id="prev_option" onclick="nextPrevOpt(-1);">PREVIOUS</button>
  <button id="next_option" onclick="nextPrevOpt(+1);">NEXT</button>
  <div id="placeholder-bubble"></div>
  <div id="placeholder-line"></div>
  <script src="script.js"></script>
  <script>
    var nextPrevOpt = function(direction) {
      var sel = document.getElementById('concepts_selector');
      var i = sel.selectedIndex + direction;
      if (i < 0) i = sel.options.length - 1;
      sel.options[i % sel.options.length].selected = true;
      update_chart();
    }

    window.onkeypress = function(e) {
      if (e.keyCode == 91) document.getElementById('prev_option').click();
      if (e.keyCode == 93) document.getElementById('next_option').click();
    }


    var update_chart = function() {
      var concept_name = document.getElementById('concepts_selector').value
      if(!concept_name) return;

      viz1.model.state.marker.axis_x.setWhich({
        concept: concept_name,
        dataSource: "data_alternative"
      })
      viz1.model.state.marker.axis_y.setWhich({
        concept: concept_name,
        dataSource: "data"
      })
      viz2.model.state.marker.axis_y.setWhich({
        concept: concept_name,
        dataSource: "data"
      })
    };
  </script>
</body>

</html>
